<!DOCTYPE html>
<html lang="en"><head>
<script src="tidyverse-2023_files/libs/clipboard/clipboard.min.js"></script>
<script src="tidyverse-2023_files/libs/quarto-html/tabby.min.js"></script>
<script src="tidyverse-2023_files/libs/quarto-html/popper.min.js"></script>
<script src="tidyverse-2023_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="tidyverse-2023_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="tidyverse-2023_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">
<meta name="author" content="dr. mine çetinkaya-rundel">
<meta name="dcterms.date" content="2023-05-30">
<title>what’s new in the tidyverse in 2023?</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="tidyverse-2023_files/libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="tidyverse-2023_files/libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #97947a;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #97947a;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #2b2b2b; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #dcc6e0; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #ffd700; } /* Attribute */
    code span.bn { color: #dcc6e0; } /* BaseN */
    code span.bu { color: #f5ab35; } /* BuiltIn */
    code span.cf { color: #ffa07a; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffa07a; } /* Constant */
    code span.co { color: #d4d0ab; } /* Comment */
    code span.cv { color: #d4d0ab; font-style: italic; } /* CommentVar */
    code span.do { color: #d4d0ab; font-style: italic; } /* Documentation */
    code span.dt { color: #dcc6e0; } /* DataType */
    code span.dv { color: #dcc6e0; } /* DecVal */
    code span.er { color: #dcc6e0; } /* Error */
    code span.ex { color: #ffd700; } /* Extension */
    code span.fl { color: #f5ab35; } /* Float */
    code span.fu { color: #ffd700; } /* Function */
    code span.im { color: #f8f8f2; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; } /* Keyword */
    code span.op { color: #00e0e0; } /* Operator */
    code span.ot { color: #ffa07a; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.sc { color: #00e0e0; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #f5ab35; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #d4d0ab; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="tidyverse-2023_files/libs/revealjs/dist/theme/quarto.css">
<link href="tidyverse-2023_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
<link href="tidyverse-2023_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="images/tidyverse-hexes.png" class="quarto-title-block center"><h1 class="title">what’s new<br>in the tidyverse<br>in 2023?</h1>
  <p class="subtitle"><a href="https://mine.quarto.pub/tidyverse-2023">🔗 mine.quarto.pub/tidyverse-2023</a> <br><br><a href="https://github.com/mine-cetinkaya-rundel/tidyverse-2023">💻 github.com/mine-cetinkaya-rundel/tidyverse-2023</a></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
dr. mine çetinkaya-rundel 
</div>
        <p class="quarto-title-affiliation">
            duke university + posit
          </p>
    </div>
</div>

  <p class="date">2023-05-30</p>
</section><section><section id="principles-of-the-tidyverse" class="title-slide slide level1 center"><h1>principles of the tidyverse</h1>

</section><section id="tidyverse" class="slide level2"><h2>tidyverse</h2>
<div class="columns">
<div class="column" style="width:80%;">
<p>meta R package that loads nine core packages when invoked and also bundles numerous other packages that share a design philosophy, common grammar, and data structures</p>
<div class="fragment" data-fragment-index="1">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>── Attaching core tidyverse packages ──────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1
── Conflicts ────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package to force all conflicts to become errors</code></pre>
</div>
</div><div class="column" style="width:20%;">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/tidyverse.png" alt="Tidyverse hex icon"></p>
</figure>
</div>
</div>
</div>
</section><section id="tidyverse-for-data-science" class="slide level2"><h2>tidyverse for data science</h2>
<div class="fragment" data-fragment-index="2">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/data-science.png" alt="Data science cycle: import, tidy, transform, visualize, model, communicate. Packages readr and tibble are for import. Packages tidyr and purr for tidy and transform. Packages dplyr, stringr, forcats, and lubridate are for transform. Package ggplot2 is for visualize."></p>
</figure>
</div>
</div>
</section><section id="setup-penguins" class="slide level2"><h2>setup: <code>penguins</code>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb3-2"><a href="#cb3-2"></a>penguins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
  species island   bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgers…           39.1          18.7               181
2 Adelie  Torgers…           39.5          17.4               186
3 Adelie  Torgers…           40.3          18                 195
4 Adelie  Torgers…           NA            NA                  NA
5 Adelie  Torgers…           36.7          19.3               193
6 Adelie  Torgers…           39.3          20.6               190
# ℹ 338 more rows
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>

<aside><div>

</div></aside></section><section id="a-typical-tidyverse-pipeline" class="slide level2"><h2>a typical tidyverse pipeline</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> mean_bw, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="tidyverse-2023_files/figure-revealjs/typical-pipeline-1.png" style="width:80.0%" alt="Dodged bar plot of average body masses of penguins by species and sex. Gentoo penguins weigh more, on average, than Adelies and Chinstraps, and within each species males weigh more, on average, than females." class="r-stretch quarto-figure-center"></section><section id="a-typical-tidyverse-workflow" class="slide level2"><h2>a typical tidyverse workflow</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="|1|1-2|1-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override
using the `.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
# Groups:   species [3]
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Adelie    male     4043.
3 Adelie    &lt;NA&gt;       NA 
4 Chinstrap female   3527.
5 Chinstrap male     3939.
6 Gentoo    female   4680.
# ℹ 2 more rows</code></pre>
</div>
</div>
</section><section id="a-typical-tidyverse-workflow-1" class="slide level2"><h2>a typical tidyverse workflow</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="2|1-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override
using the `.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
# Groups:   species [3]
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Adelie    male     4043.
3 Chinstrap female   3527.
4 Chinstrap male     3939.
5 Gentoo    female   4680.
6 Gentoo    male     5485.</code></pre>
</div>
</div>
</section><section id="a-typical-tidyverse-workflow-2" class="slide level2"><h2>a typical tidyverse workflow</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="4|1-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Adelie    male     4043.
3 Chinstrap female   3527.
4 Chinstrap male     3939.
5 Gentoo    female   4680.
6 Gentoo    male     5485.</code></pre>
</div>
</div>
</section><section id="a-typical-tidyverse-workflow-3" class="slide level2"><h2>a typical tidyverse workflow</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="5-6|1-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> mean_bw, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-8-1.png" style="width:80.0%" alt="Dodged bar plot of average body masses of penguins by species and sex. Gentoo penguins weigh more, on average, than Adelies and Chinstraps, and within each species males weigh more, on average, than females." class="r-stretch quarto-figure-center"></section><section id="a-typical-tidyverse-workflow-4" class="slide level2"><h2>a typical tidyverse workflow</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="6|1-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> mean_bw, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-9-1.png" style="width:80.0%" alt="Dodged bar plot of average body masses of penguins by species and sex. Gentoo penguins weigh more, on average, than Adelies and Chinstraps, and within each species males weigh more, on average, than females." class="r-stretch quarto-figure-center"></section><section id="a-note-about-this-presentation" class="slide level2"><h2>a note about this presentation</h2>
<ul>
<li>Sometimes I’ll show two options, where the <em>now</em> option is what you <strong>should</strong> do now.</li>
</ul>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="previously">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># you used to do</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<h3 id="now">now</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># now you should do</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<ul>
<li>And sometimes I’ll show two options, where the <em>now</em> option is what you <strong>can</strong> do now.</li>
</ul>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="previously-1">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># you used to do</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<h3 id="now---optionally">now - optionally</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># now you can do</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
</div>
<div class="fragment">
<ul>
<li>There will be more of the latter than the former!</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>I’ll also sprinkle in some teaching tips along the way.</li>
</ul>
</div>
</section></section><section><section id="tidyverse-2.0.0" class="title-slide slide level1 center"><h1>tidyverse 2.0.0</h1>

</section><section id="whats-new-in-tidyverse-2.0.0" class="slide level2"><h2>what’s new in tidyverse 2.0.0?</h2>
<ul>
<li>
<strong>lubridate</strong> is now a core tidyverse package</li>
<li>package loading message advertises the <strong>conflicted</strong> package</li>
</ul></section><section id="lubridate---now-core" class="slide level2"><h2>lubridate - now core</h2>
<div class="columns">
<div class="column" style="width:80%;">
<p><strong>lubridate</strong>, a package that makes it easier to do the things R does with date-times, is now a core tidyerse package.</p>
</div><div class="column" style="width:20%;">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/lubridate.png" alt="lubridate hex icon"></p>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:45%;">
<!-- -->
<h3 id="previously-2">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:45%;">
<!-- -->
<h3 id="now-1">now</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="lubridate---functionality" class="slide level2"><h2>lubridate - functionality</h2>
<p>lubridate is most useful for parsing numbers or text that repsent dates into date-time:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>today_n <span class="ot">&lt;-</span> <span class="dv">20230530</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>today_t <span class="ot">&lt;-</span> <span class="st">"5/30/2023"</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>today_s <span class="ot">&lt;-</span> <span class="st">"The SSA Vic May Event takes place on 30 May 2023 at 6 pm."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:30%;">
<p>“Easy”:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">class</span>(today_n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">ymd</span>(today_n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-30"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">class</span>(<span class="fu">ymd</span>(today_n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div><div class="column" style="width:3%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:30%;">
<p>Slightly more complex:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">class</span>(today_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">mdy</span>(today_t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-30"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">class</span>(<span class="fu">mdy</span>(today_t))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div><div class="column" style="width:3%;">

</div>
<div class="column fragment" data-fragment-index="3" style="width:30%;">
<p>Even more complex:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">class</span>(today_s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">dmy_h</span>(today_s, <span class="at">tz =</span> <span class="st">"Australia/Melbourne"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-30 18:00:00 AEST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">class</span>(<span class="fu">dmy_h</span>(today_s))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
</div>
</div>
</section><section id="conflicted---now-advertised" class="slide level2 smaller"><h2>conflicted - now advertised</h2>
<ul>
<li>Load tidyverse:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>── Attaching core tidyverse packages ──────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1
── Conflicts ────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package to force all conflicts to become errors</code></pre>
<div class="fragment">
<ul>
<li>Explicitly check for conflicts with <code><a href="https://tidyverse.tidyverse.org/reference/tidyverse_conflicts.html">tidyverse::tidyverse_conflicts()</a></code>:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">tidyverse_conflicts</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>── Conflicts ─────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</div>
</section><section id="conflict-resolution-with-base-r" class="slide level2"><h2>conflict resolution with base R</h2>
<p>R’s default conflict resolution gives precedence to the most recently loaded package</p>
<ul>
<li>Before loading tidyverse - calling <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> uses <code><a href="https://rdrr.io/r/stats/filter.html">stats::filter()</a></code>:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'species' not found</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>After loading tidyverse - calling <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> <em>silently</em> uses <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code>:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 8
  species island   bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgers…           39.1          18.7               181
2 Adelie  Torgers…           39.5          17.4               186
3 Adelie  Torgers…           40.3          18                 195
# ℹ 149 more rows
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</div>
</section><section id="conflict-resolution-with-conflicted" class="slide level2"><h2>conflict resolution with conflicted</h2>
<p>After loading conflicted - <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> doesn’t <em>silently</em> use <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb49-2"><a href="#cb49-2"></a></span>
<span id="cb49-3"><a href="#cb49-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb49-4"><a href="#cb49-4"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! [conflicted] filter found in 2 packages.
Either pick the one you want with `::`:
• dplyr::filter
• stats::filter
Or declare a preference with `conflicts_prefer()`:
• `conflicts_prefer(dplyr::filter)`
• `conflicts_prefer(stats::filter)`</code></pre>
</div>
</div>
</section><section id="conflict-resolution-with-conflicted---option-1" class="slide level2"><h2>conflict resolution with conflicted - option 1</h2>
<p>Pick the one you want with <code>::</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 8
  species island   bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgers…           39.1          18.7               181
2 Adelie  Torgers…           39.5          17.4               186
3 Adelie  Torgers…           40.3          18                 195
# ℹ 149 more rows
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section><section id="conflict-resolution-with-conflicted---option-2" class="slide level2"><h2>conflict resolution with conflicted - option 2</h2>
<p>declare a preference with <code>conflicts_prefer()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>filter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[conflicted] Will prefer dplyr::filter over any other package.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 8
  species island   bill_length_mm bill_depth_mm flipper_length_mm
  &lt;fct&gt;   &lt;fct&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
1 Adelie  Torgers…           39.1          18.7               181
2 Adelie  Torgers…           39.5          17.4               186
3 Adelie  Torgers…           40.3          18                 195
# ℹ 149 more rows
# ℹ 3 more variables: body_mass_g &lt;int&gt;, sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section><section id="teaching-tip" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Don’t hide startup messages from teaching materials</strong></p>
</div>
<div class="callout-content">
<p>Instead, address them early on to</p>
<ol type="1">
<li>Encourage reading and understanding messages, warnings, and errors</li>
<li>Help during hard-to-debug situations resulting from base R’s silent conflict resolution</li>
</ol>
<p>But… Do teach students how to hide them in reports, particularly during editing/polishing stage!</p>
</div>
</div>
</div>
</section></section><section><section id="dplyr-1.1.2" class="title-slide slide level1 center"><h1>dplyr 1.1.2</h1>

</section><section id="whats-new-in-dplyr-1.1.2" class="slide level2"><h2>what’s new in dplyr 1.1.2?</h2>
<p>A (non-exhaustive) list:</p>
<ul>
<li>Improved and expanded <code>_join()</code> functionality</li>
<li>Added functionality for per operation grouping</li>
<li>Quality of life improvements: <code>case_when()</code> and <code>if_else()</code>
</li>
<li>and more…</li>
</ul></section><section id="improved-and-expanded-_join-functionality" class="slide level2"><h2>improved and expanded <code>_join()</code> functionality</h2>
<ul>
<li>New <code>join_by()</code> function for the <code>by</code> argument in <code>*_join()</code> functions</li>
<li>Handling various matches (one-to-one, one-to-many, many-to-many relationships, etc.) and unmatched cases</li>
<li>and more…</li>
</ul></section><section id="join_by" class="slide level2"><h2><code>join_by()</code></h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-3">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>x <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="er">*</span><span class="fu">_join</span>(</span>
<span id="cb57-3"><a href="#cb57-3"></a>    y, </span>
<span id="cb57-4"><a href="#cb57-4"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"&lt;x var&gt;"</span> <span class="ot">=</span> <span class="st">"&lt;y var&gt;"</span>)</span>
<span id="cb57-5"><a href="#cb57-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now---optionally-1">now - optionally</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb58" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>x <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="er">*</span><span class="fu">_join</span>(</span>
<span id="cb58-3"><a href="#cb58-3"></a>    y, </span>
<span id="cb58-4"><a href="#cb58-4"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(<span class="sc">&lt;</span>x var<span class="sc">&gt;</span> <span class="er">==</span> <span class="er">&lt;</span>y var<span class="sc">&gt;</span>)</span>
<span id="cb58-5"><a href="#cb58-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="setup-islands" class="slide level2"><h2>setup: <code>islands</code>
</h2>
<p>We have the following information on the three islands we have penguins from:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>islands <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="sc">~</span>name,       <span class="sc">~</span>coordinates,</span>
<span id="cb59-3"><a href="#cb59-3"></a>  <span class="st">"Torgersen"</span>, <span class="st">"64°46′S 64°5′W"</span>,</span>
<span id="cb59-4"><a href="#cb59-4"></a>  <span class="st">"Biscoe"</span>,    <span class="st">"65°26′S 65°30′W"</span>,</span>
<span id="cb59-5"><a href="#cb59-5"></a>  <span class="st">"Dream"</span>,     <span class="st">"64°44′S 64°14′W"</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>)</span>
<span id="cb59-7"><a href="#cb59-7"></a></span>
<span id="cb59-8"><a href="#cb59-8"></a>islands</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name      coordinates    
  &lt;chr&gt;     &lt;chr&gt;          
1 Torgersen 64°46′S 64°5′W 
2 Biscoe    65°26′S 65°30′W
3 Dream     64°44′S 64°14′W</code></pre>
</div>
</div>
</section><section id="join_by-1" class="slide level2"><h2><code>join_by()</code></h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<p><strong>with <code>by</code>:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">left_join</span>(</span>
<span id="cb61-3"><a href="#cb61-3"></a>    islands, </span>
<span id="cb61-4"><a href="#cb61-4"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"island"</span> <span class="ot">=</span> <span class="st">"name"</span>)</span>
<span id="cb61-5"><a href="#cb61-5"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>  <span class="fu">select</span>(species, island, coordinates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
  species island    coordinates   
  &lt;fct&gt;   &lt;chr&gt;     &lt;chr&gt;         
1 Adelie  Torgersen 64°46′S 64°5′W
2 Adelie  Torgersen 64°46′S 64°5′W
3 Adelie  Torgersen 64°46′S 64°5′W
4 Adelie  Torgersen 64°46′S 64°5′W
5 Adelie  Torgersen 64°46′S 64°5′W
6 Adelie  Torgersen 64°46′S 64°5′W
# ℹ 338 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<p><strong>with <code>join_by()</code>:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">left_join</span>(</span>
<span id="cb63-3"><a href="#cb63-3"></a>    islands, </span>
<span id="cb63-4"><a href="#cb63-4"></a>    <span class="at">by =</span> <span class="fu">join_by</span>(island <span class="sc">==</span> name)</span>
<span id="cb63-5"><a href="#cb63-5"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>  <span class="fu">select</span>(species, island, coordinates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
  species island    coordinates   
  &lt;fct&gt;   &lt;chr&gt;     &lt;chr&gt;         
1 Adelie  Torgersen 64°46′S 64°5′W
2 Adelie  Torgersen 64°46′S 64°5′W
3 Adelie  Torgersen 64°46′S 64°5′W
4 Adelie  Torgersen 64°46′S 64°5′W
5 Adelie  Torgersen 64°46′S 64°5′W
6 Adelie  Torgersen 64°46′S 64°5′W
# ℹ 338 more rows</code></pre>
</div>
</div>
</div>
</div>
</section><section id="teaching-tip-1" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Prefer <code>join_by()</code> over <code>by</code></strong></p>
</div>
<div class="callout-content">
<p>So that</p>
<ol type="1">
<li>You can read it out loud as “where x is equal to y”, just like in other logical statements where <code>==</code> is pronounced as “is equal to”</li>
<li>You don’t have to worry about <code>by = c(x = y)</code> (which is invalid) vs.&nbsp;<code>by = c(x = "y")</code> (which is valid) vs.&nbsp;<code>by = c("x" = "y")</code> (which is also valid)</li>
</ol>
</div>
</div>
</div>
</section><section id="handling-various-matches" class="slide level2"><h2>handling various matches</h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-4">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="sc">*</span><span class="fu">_join</span>(</span>
<span id="cb65-2"><a href="#cb65-2"></a>  x,</span>
<span id="cb65-3"><a href="#cb65-3"></a>  y,</span>
<span id="cb65-4"><a href="#cb65-4"></a>  by</span>
<span id="cb65-5"><a href="#cb65-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now---optionally-2">now - optionally</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66" data-code-line-numbers="|5-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="sc">*</span><span class="fu">_join</span>(</span>
<span id="cb66-2"><a href="#cb66-2"></a>  x,</span>
<span id="cb66-3"><a href="#cb66-3"></a>  y,</span>
<span id="cb66-4"><a href="#cb66-4"></a>  by,</span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="at">multiple =</span> <span class="st">"all"</span>,</span>
<span id="cb66-6"><a href="#cb66-6"></a>  <span class="at">unmatched =</span> <span class="st">"drop"</span>,</span>
<span id="cb66-7"><a href="#cb66-7"></a>  <span class="at">relationship =</span> <span class="cn">NULL</span></span>
<span id="cb66-8"><a href="#cb66-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="setup-three_penguins" class="slide level2"><h2>setup: <code>three_penguins</code>
</h2>
<p>Information about three penguins, one row per <code>samp_id</code>:</p>
<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>three_penguins <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="sc">~</span>samp_id, <span class="sc">~</span>species,    <span class="sc">~</span>island,</span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="dv">1</span>,        <span class="st">"Adelie"</span>,    <span class="st">"Torgersen"</span>,</span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="dv">2</span>,        <span class="st">"Gentoo"</span>,    <span class="st">"Biscoe"</span>,</span>
<span id="cb67-5"><a href="#cb67-5"></a>  <span class="dv">3</span>,        <span class="st">"Chinstrap"</span>, <span class="st">"Dream"</span></span>
<span id="cb67-6"><a href="#cb67-6"></a>)</span>
<span id="cb67-7"><a href="#cb67-7"></a></span>
<span id="cb67-8"><a href="#cb67-8"></a>three_penguins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  samp_id species   island   
    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1 Adelie    Torgersen
2       2 Gentoo    Biscoe   
3       3 Chinstrap Dream    </code></pre>
</div>
</div>
</div>
</section><section id="setup-weight_measurements" class="slide level2"><h2>setup: <code>weight_measurements</code>
</h2>
<p>Information about weight measurements of these penguins, one row per <code>samp_id</code>, <code>meas_id</code> combination:</p>
<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>weight_measurements <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb69-2"><a href="#cb69-2"></a>  <span class="sc">~</span>samp_id, <span class="sc">~</span>meas_id, <span class="sc">~</span>body_mass_g,</span>
<span id="cb69-3"><a href="#cb69-3"></a>  <span class="dv">1</span>,        <span class="dv">1</span>,        <span class="dv">3220</span>,</span>
<span id="cb69-4"><a href="#cb69-4"></a>  <span class="dv">1</span>,        <span class="dv">2</span>,        <span class="dv">3250</span>,</span>
<span id="cb69-5"><a href="#cb69-5"></a>  <span class="dv">2</span>,        <span class="dv">1</span>,        <span class="dv">4730</span>,</span>
<span id="cb69-6"><a href="#cb69-6"></a>  <span class="dv">2</span>,        <span class="dv">2</span>,        <span class="dv">4725</span>,</span>
<span id="cb69-7"><a href="#cb69-7"></a>  <span class="dv">3</span>,        <span class="dv">1</span>,        <span class="dv">4000</span>,</span>
<span id="cb69-8"><a href="#cb69-8"></a>  <span class="dv">3</span>,        <span class="dv">2</span>,        <span class="dv">4050</span></span>
<span id="cb69-9"><a href="#cb69-9"></a>)</span>
<span id="cb69-10"><a href="#cb69-10"></a></span>
<span id="cb69-11"><a href="#cb69-11"></a>weight_measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  samp_id meas_id body_mass_g
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;
1       1       1        3220
2       1       2        3250
3       2       1        4730
4       2       2        4725
5       3       1        4000
6       3       2        4050</code></pre>
</div>
</div>
</div>
</section><section id="setup-flipper_measurements" class="slide level2"><h2>setup: <code>flipper_measurements</code>
</h2>
<p>Information about flipper length measurements of these penguins, one row per <code>samp_id</code>, <code>meas_id</code> combination:</p>
<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>flipper_measurements <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="sc">~</span>samp_id, <span class="sc">~</span>meas_id, <span class="sc">~</span>flipper_length_mm,</span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="dv">1</span>,        <span class="dv">1</span>,        <span class="dv">193</span>,</span>
<span id="cb71-4"><a href="#cb71-4"></a>  <span class="dv">1</span>,        <span class="dv">2</span>,        <span class="dv">195</span>,</span>
<span id="cb71-5"><a href="#cb71-5"></a>  <span class="dv">2</span>,        <span class="dv">1</span>,        <span class="dv">214</span>,</span>
<span id="cb71-6"><a href="#cb71-6"></a>  <span class="dv">2</span>,        <span class="dv">2</span>,        <span class="dv">216</span>,</span>
<span id="cb71-7"><a href="#cb71-7"></a>  <span class="dv">3</span>,        <span class="dv">1</span>,        <span class="dv">203</span>,</span>
<span id="cb71-8"><a href="#cb71-8"></a>  <span class="dv">3</span>,        <span class="dv">2</span>,        <span class="dv">203</span></span>
<span id="cb71-9"><a href="#cb71-9"></a>)</span>
<span id="cb71-10"><a href="#cb71-10"></a></span>
<span id="cb71-11"><a href="#cb71-11"></a>flipper_measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  samp_id meas_id flipper_length_mm
    &lt;dbl&gt;   &lt;dbl&gt;             &lt;dbl&gt;
1       1       1               193
2       1       2               195
3       2       1               214
4       2       2               216
5       3       1               203
6       3       2               203</code></pre>
</div>
</div>
</div>
</section><section id="one-to-many-relationships---all-good" class="slide level2"><h2>one-to-many relationships - all good!</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>three_penguins <span class="sc">|&gt;</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>  <span class="fu">left_join</span>(weight_measurements, <span class="fu">join_by</span>(samp_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  samp_id species   island    meas_id body_mass_g
    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;
1       1 Adelie    Torgersen       1        3220
2       1 Adelie    Torgersen       2        3250
3       2 Gentoo    Biscoe          1        4730
4       2 Gentoo    Biscoe          2        4725
5       3 Chinstrap Dream           1        4000
6       3 Chinstrap Dream           2        4050</code></pre>
</div>
</div>
</section><section id="many-to-many-relationships---warning" class="slide level2 smaller"><h2>many-to-many relationships - warning</h2>
<div class="question">
<p>What does the following warning mean?</p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">left_join</span>(flipper_measurements, <span class="fu">join_by</span>(samp_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in left_join(weight_measurements, flipper_measurements, join_by(samp_id)): Detected an unexpected many-to-many relationship between `x` and
`y`.
ℹ Row 1 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship
  = "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 5
   samp_id meas_id.x body_mass_g meas_id.y flipper_length_mm
     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;
 1       1         1        3220         1               193
 2       1         1        3220         2               195
 3       1         2        3250         1               193
 4       1         2        3250         2               195
 5       2         1        4730         1               214
 6       2         1        4730         2               216
 7       2         2        4725         1               214
 8       2         2        4725         2               216
 9       3         1        4000         1               203
10       3         1        4000         2               203
11       3         2        4050         1               203
12       3         2        4050         2               203</code></pre>
</div>
</div>
</section><section id="many-to-many-relationships---explosion-of-rows" class="slide level2 smaller"><h2>many-to-many relationships - explosion of rows</h2>
<div class="question">
<p>We followed the warning’s advice. Does the following look correct?</p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb78-2"><a href="#cb78-2"></a>  <span class="fu">left_join</span>(flipper_measurements, <span class="fu">join_by</span>(samp_id), <span class="at">relationship =</span> <span class="st">"many-to-many"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 5
   samp_id meas_id.x body_mass_g meas_id.y flipper_length_mm
     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;
 1       1         1        3220         1               193
 2       1         1        3220         2               195
 3       1         2        3250         1               193
 4       1         2        3250         2               195
 5       2         1        4730         1               214
 6       2         1        4730         2               216
 7       2         2        4725         1               214
 8       2         2        4725         2               216
 9       3         1        4000         1               203
10       3         1        4000         2               203
11       3         2        4050         1               203
12       3         2        4050         2               203</code></pre>
</div>
</div>
</section><section id="many-to-many-relationships---rethink-join_by" class="slide level2"><h2>many-to-many relationships - rethink <code>join_by()</code>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">left_join</span>(flipper_measurements, <span class="fu">join_by</span>(samp_id, meas_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  samp_id meas_id body_mass_g flipper_length_mm
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;             &lt;dbl&gt;
1       1       1        3220               193
2       1       2        3250               195
3       2       1        4730               214
4       2       2        4725               216
5       3       1        4000               203
6       3       2        4050               203</code></pre>
</div>
</div>
</section><section id="setup-four_penguins" class="slide level2"><h2>setup: <code>four_penguins</code>
</h2>
<p>Information about three penguins, one row per <code>samp_id</code>:</p>
<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>four_penguins <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb82-2"><a href="#cb82-2"></a>  <span class="sc">~</span>samp_id, <span class="sc">~</span>species,    <span class="sc">~</span>island,</span>
<span id="cb82-3"><a href="#cb82-3"></a>  <span class="dv">1</span>,        <span class="st">"Adelie"</span>,    <span class="st">"Torgersen"</span>,</span>
<span id="cb82-4"><a href="#cb82-4"></a>  <span class="dv">2</span>,        <span class="st">"Gentoo"</span>,    <span class="st">"Biscoe"</span>,</span>
<span id="cb82-5"><a href="#cb82-5"></a>  <span class="dv">3</span>,        <span class="st">"Chinstrap"</span>, <span class="st">"Dream"</span>,</span>
<span id="cb82-6"><a href="#cb82-6"></a>  <span class="dv">4</span>,        <span class="st">"Adelie"</span>,    <span class="st">"Biscoe"</span></span>
<span id="cb82-7"><a href="#cb82-7"></a>)</span>
<span id="cb82-8"><a href="#cb82-8"></a></span>
<span id="cb82-9"><a href="#cb82-9"></a>four_penguins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  samp_id species   island   
    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1 Adelie    Torgersen
2       2 Gentoo    Biscoe   
3       3 Chinstrap Dream    
4       4 Adelie    Biscoe   </code></pre>
</div>
</div>
</div>
</section><section id="unmatched-rows---poof" class="slide level2"><h2>unmatched rows - poof!</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb84-2"><a href="#cb84-2"></a>  <span class="fu">left_join</span>(four_penguins, <span class="fu">join_by</span>(samp_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  samp_id meas_id body_mass_g species   island   
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1       1        3220 Adelie    Torgersen
2       1       2        3250 Adelie    Torgersen
3       2       1        4730 Gentoo    Biscoe   
4       2       2        4725 Gentoo    Biscoe   
5       3       1        4000 Chinstrap Dream    
6       3       2        4050 Chinstrap Dream    </code></pre>
</div>
</div>
</section><section id="unmatched-rows---error" class="slide level2"><h2>unmatched rows - <code>error</code>
</h2>
<p>The <code>unmatched</code> argument protects you from accidentally dropping rows during a join:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb86-2"><a href="#cb86-2"></a>  <span class="fu">left_join</span>(four_penguins, <span class="fu">join_by</span>(samp_id), <span class="at">unmatched =</span> <span class="st">"error"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `left_join()`:
! Each row of `y` must be matched by `x`.
ℹ Row 4 of `y` was not matched.</code></pre>
</div>
</div>
</section><section id="unmatched-rows---option-1" class="slide level2"><h2>unmatched rows - option 1</h2>
<p>Use <code>inner_join()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb88-2"><a href="#cb88-2"></a>  <span class="fu">inner_join</span>(four_penguins, <span class="fu">join_by</span>(samp_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  samp_id meas_id body_mass_g species   island   
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1       1        3220 Adelie    Torgersen
2       1       2        3250 Adelie    Torgersen
3       2       1        4730 Gentoo    Biscoe   
4       2       2        4725 Gentoo    Biscoe   
5       3       1        4000 Chinstrap Dream    
6       3       2        4050 Chinstrap Dream    </code></pre>
</div>
</div>
</section><section id="unmatched-rows---option-2" class="slide level2"><h2>unmatched rows - option 2</h2>
<p>Set <code>unmatched = "drop"</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb90-2"><a href="#cb90-2"></a>  <span class="fu">left_join</span>(four_penguins, <span class="fu">join_by</span>(samp_id), <span class="at">unmatched =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  samp_id meas_id body_mass_g species   island   
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1       1        3220 Adelie    Torgersen
2       1       2        3250 Adelie    Torgersen
3       2       1        4730 Gentoo    Biscoe   
4       2       2        4725 Gentoo    Biscoe   
5       3       1        4000 Chinstrap Dream    
6       3       2        4050 Chinstrap Dream    </code></pre>
</div>
</div>
</section><section id="unmatched-rows---option-3" class="slide level2"><h2>unmatched rows - option 3</h2>
<p>Do nothing – at your own risk!</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>weight_measurements <span class="sc">|&gt;</span></span>
<span id="cb92-2"><a href="#cb92-2"></a>  <span class="fu">left_join</span>(four_penguins, <span class="fu">join_by</span>(samp_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  samp_id meas_id body_mass_g species   island   
    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1       1       1        3220 Adelie    Torgersen
2       1       2        3250 Adelie    Torgersen
3       2       1        4730 Gentoo    Biscoe   
4       2       2        4725 Gentoo    Biscoe   
5       3       1        4000 Chinstrap Dream    
6       3       2        4050 Chinstrap Dream    </code></pre>
</div>
</div>
</section><section id="and-more" class="slide level2"><h2>and more…</h2>
<p><strong>Inequality joins</strong> and <strong>rolling joins</strong>, made possible by <code>join_by()</code> being able to take expressions involving <code>&gt;</code>, <code>&lt;=</code>, etc.</p>
<ul>
<li><p>Learn more about inequality joins at <a href="https://www.tidyverse.org/blog/2023/01/dplyr-1-1-0-joins/#inequality-joins" class="uri">https://www.tidyverse.org/blog/2023/01/dplyr-1-1-0-joins/#inequality-joins</a></p></li>
<li><p>Learn more about rolling joins at <a href="https://www.tidyverse.org/blog/2023/01/dplyr-1-1-0-joins/#rolling-joins" class="uri">https://www.tidyverse.org/blog/2023/01/dplyr-1-1-0-joins/#rolling-joins</a></p></li>
</ul>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>What are inequality joins and rolling joins?</strong></p>
</div>
<div class="callout-content">
<p>IYKYK!</p>
<p>If not, <a href="https://r4ds.hadley.nz/joins.html#sec-non-equi-joins">R4DS, 2nd Ed - Non-equi joins section</a> is a great place to learn about them!</p>
</div>
</div>
</div>
</div>
</section><section id="teaching-tip-2" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Exploding joins can be hard to debug for students!</strong></p>
</div>
<div class="callout-content">
<p>Teach students how to diagnose whether the join they performed, and that may not have given an error, is indeed the one they wanted to perform. Did they lose any cases? Did they gain an unexpected amount of cases? Did they perform a join without thinking and take down the entire teaching server? These things happen, particularly if students are working with their own data for an open-ended project!</p>
</div>
</div>
</div>
</section><section id="added-functionality-for-per-operation-grouping" class="slide level2"><h2>added functionality for per operation grouping</h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-5">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb94" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="fu">group_by</span>(x) <span class="sc">|&gt;</span></span>
<span id="cb94-3"><a href="#cb94-3"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now---optionally-3">now - optionally</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb95" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb95-2"><a href="#cb95-2"></a>  <span class="fu">summarize</span>(</span>
<span id="cb95-3"><a href="#cb95-3"></a>    <span class="fu">mean</span>(y), </span>
<span id="cb95-4"><a href="#cb95-4"></a>    <span class="at">.by =</span> x</span>
<span id="cb95-5"><a href="#cb95-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="persistent-grouping---handle-with-.groups" class="slide level2"><h2>persistent grouping - handle with <code>.groups</code>
</h2>
<div class="question">
<p>Remember our “typical tidyverse pipeline”? Why did we set <code>.groups = "drop"</code> in <code>summarize()</code>?</p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb96" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb96-2"><a href="#cb96-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb96-3"><a href="#cb96-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb96-4"><a href="#cb96-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb96-5"><a href="#cb96-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> mean_bw, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb96-6"><a href="#cb96-6"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-54-1.png" style="width:80.0%" alt="Dodged bar plot of average body masses of penguins by species and sex. Gentoo penguins weigh more, on average, than Adelies and Chinstraps, and within each species males weigh more, on average, than females." class="r-stretch quarto-figure-center"></section><section id="persistent-grouping---message" class="slide level2"><h2>persistent grouping - message</h2>
<div class="question">
<p>What if we don’t set it? Why does <code>summarize()</code> emit a message even though the result doesn’t change?</p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb97" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb97-2"><a href="#cb97-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb97-4"><a href="#cb97-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g)) <span class="sc">|&gt;</span></span>
<span id="cb97-5"><a href="#cb97-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> mean_bw, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb97-6"><a href="#cb97-6"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override
using the `.groups` argument.</code></pre>
</div>

</div>
<img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-55-1.png" style="width:80.0%" alt="Dodged bar plot of average body masses of penguins by species and sex. Gentoo penguins weigh more, on average, than Adelies and Chinstraps, and within each species males weigh more, on average, than females." class="r-stretch quarto-figure-center"></section><section id="persistent-grouping---downstream-effects" class="slide level2"><h2>persistent grouping - downstream effects</h2>
<div class="columns">
<div class="column" style="width:49%;">
<p><strong>persistent groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb99-3"><a href="#cb99-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb99-4"><a href="#cb99-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g)) <span class="sc">|&gt;</span></span>
<span id="cb99-5"><a href="#cb99-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override
using the `.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
# Groups:   species [3]
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Chinstrap female   3527.
3 Gentoo    female   4680.</code></pre>
</div>
</div>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:49%;">
<p><strong>dropped groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb102-2"><a href="#cb102-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb102-3"><a href="#cb102-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb102-4"><a href="#cb102-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb102-5"><a href="#cb102-5"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  species sex    mean_bw
  &lt;fct&gt;   &lt;fct&gt;    &lt;dbl&gt;
1 Adelie  female   3369.</code></pre>
</div>
</div>
</div>
</div>
</section><section id="persistent-grouping---downstream-effects-1" class="slide level2"><h2>persistent grouping - downstream effects</h2>
<div class="columns">
<div class="column" style="width:49%;">
<p><strong>persistent groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb104-2"><a href="#cb104-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb104-3"><a href="#cb104-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb104-4"><a href="#cb104-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g)) <span class="sc">|&gt;</span></span>
<span id="cb104-5"><a href="#cb104-5"></a>  gt<span class="sc">::</span><span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override
using the `.groups` argument.</code></pre>
</div>
<div class="cell-output-display">

<div id="pzxwxtrvkb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pzxwxtrvkb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pzxwxtrvkb thead, #pzxwxtrvkb tbody, #pzxwxtrvkb tfoot, #pzxwxtrvkb tr, #pzxwxtrvkb td, #pzxwxtrvkb th {
  border-style: none;
}

#pzxwxtrvkb p {
  margin: 0;
  padding: 0;
}

#pzxwxtrvkb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pzxwxtrvkb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pzxwxtrvkb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pzxwxtrvkb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pzxwxtrvkb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzxwxtrvkb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzxwxtrvkb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzxwxtrvkb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pzxwxtrvkb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pzxwxtrvkb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pzxwxtrvkb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pzxwxtrvkb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pzxwxtrvkb .gt_spanner_row {
  border-bottom-style: hidden;
}

#pzxwxtrvkb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pzxwxtrvkb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pzxwxtrvkb .gt_from_md > :first-child {
  margin-top: 0;
}

#pzxwxtrvkb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pzxwxtrvkb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pzxwxtrvkb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pzxwxtrvkb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pzxwxtrvkb .gt_row_group_first td {
  border-top-width: 2px;
}

#pzxwxtrvkb .gt_row_group_first th {
  border-top-width: 2px;
}

#pzxwxtrvkb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzxwxtrvkb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pzxwxtrvkb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pzxwxtrvkb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzxwxtrvkb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzxwxtrvkb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pzxwxtrvkb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pzxwxtrvkb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pzxwxtrvkb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzxwxtrvkb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzxwxtrvkb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzxwxtrvkb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzxwxtrvkb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzxwxtrvkb .gt_left {
  text-align: left;
}

#pzxwxtrvkb .gt_center {
  text-align: center;
}

#pzxwxtrvkb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pzxwxtrvkb .gt_font_normal {
  font-weight: normal;
}

#pzxwxtrvkb .gt_font_bold {
  font-weight: bold;
}

#pzxwxtrvkb .gt_font_italic {
  font-style: italic;
}

#pzxwxtrvkb .gt_super {
  font-size: 65%;
}

#pzxwxtrvkb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pzxwxtrvkb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pzxwxtrvkb .gt_indent_1 {
  text-indent: 5px;
}

#pzxwxtrvkb .gt_indent_2 {
  text-indent: 10px;
}

#pzxwxtrvkb .gt_indent_3 {
  text-indent: 15px;
}

#pzxwxtrvkb .gt_indent_4 {
  text-indent: 20px;
}

#pzxwxtrvkb .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="sex">sex</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean_bw">mean_bw</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="2" class="gt_group_heading" scope="colgroup" id="Adelie">Adelie</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="Adelie  sex" class="gt_row gt_center">female</td>
<td headers="Adelie  mean_bw" class="gt_row gt_right">3368.836</td>
</tr>
<tr>
<td headers="Adelie  sex" class="gt_row gt_center">male</td>
<td headers="Adelie  mean_bw" class="gt_row gt_right">4043.493</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="2" class="gt_group_heading" scope="colgroup" id="Chinstrap">Chinstrap</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="Chinstrap  sex" class="gt_row gt_center">female</td>
<td headers="Chinstrap  mean_bw" class="gt_row gt_right">3527.206</td>
</tr>
<tr>
<td headers="Chinstrap  sex" class="gt_row gt_center">male</td>
<td headers="Chinstrap  mean_bw" class="gt_row gt_right">3938.971</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="2" class="gt_group_heading" scope="colgroup" id="Gentoo">Gentoo</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="Gentoo  sex" class="gt_row gt_center">female</td>
<td headers="Gentoo  mean_bw" class="gt_row gt_right">4679.741</td>
</tr>
<tr>
<td headers="Gentoo  sex" class="gt_row gt_center">male</td>
<td headers="Gentoo  mean_bw" class="gt_row gt_right">5484.836</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:49%;">
<p><strong>dropped groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb106-3"><a href="#cb106-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb106-4"><a href="#cb106-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-5"><a href="#cb106-5"></a>  gt<span class="sc">::</span><span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="rsotwqxgcm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rsotwqxgcm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rsotwqxgcm thead, #rsotwqxgcm tbody, #rsotwqxgcm tfoot, #rsotwqxgcm tr, #rsotwqxgcm td, #rsotwqxgcm th {
  border-style: none;
}

#rsotwqxgcm p {
  margin: 0;
  padding: 0;
}

#rsotwqxgcm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rsotwqxgcm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rsotwqxgcm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rsotwqxgcm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rsotwqxgcm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rsotwqxgcm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsotwqxgcm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rsotwqxgcm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rsotwqxgcm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rsotwqxgcm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rsotwqxgcm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rsotwqxgcm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rsotwqxgcm .gt_spanner_row {
  border-bottom-style: hidden;
}

#rsotwqxgcm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rsotwqxgcm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rsotwqxgcm .gt_from_md > :first-child {
  margin-top: 0;
}

#rsotwqxgcm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rsotwqxgcm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rsotwqxgcm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rsotwqxgcm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rsotwqxgcm .gt_row_group_first td {
  border-top-width: 2px;
}

#rsotwqxgcm .gt_row_group_first th {
  border-top-width: 2px;
}

#rsotwqxgcm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsotwqxgcm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rsotwqxgcm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rsotwqxgcm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsotwqxgcm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsotwqxgcm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rsotwqxgcm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rsotwqxgcm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rsotwqxgcm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsotwqxgcm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rsotwqxgcm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsotwqxgcm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rsotwqxgcm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsotwqxgcm .gt_left {
  text-align: left;
}

#rsotwqxgcm .gt_center {
  text-align: center;
}

#rsotwqxgcm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rsotwqxgcm .gt_font_normal {
  font-weight: normal;
}

#rsotwqxgcm .gt_font_bold {
  font-weight: bold;
}

#rsotwqxgcm .gt_font_italic {
  font-style: italic;
}

#rsotwqxgcm .gt_super {
  font-size: 65%;
}

#rsotwqxgcm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rsotwqxgcm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rsotwqxgcm .gt_indent_1 {
  text-indent: 5px;
}

#rsotwqxgcm .gt_indent_2 {
  text-indent: 10px;
}

#rsotwqxgcm .gt_indent_3 {
  text-indent: 15px;
}

#rsotwqxgcm .gt_indent_4 {
  text-indent: 20px;
}

#rsotwqxgcm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="species">species</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="sex">sex</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean_bw">mean_bw</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="species" class="gt_row gt_center">Adelie</td>
<td headers="sex" class="gt_row gt_center">female</td>
<td headers="mean_bw" class="gt_row gt_right">3368.836</td>
</tr>
<tr>
<td headers="species" class="gt_row gt_center">Adelie</td>
<td headers="sex" class="gt_row gt_center">male</td>
<td headers="mean_bw" class="gt_row gt_right">4043.493</td>
</tr>
<tr>
<td headers="species" class="gt_row gt_center">Chinstrap</td>
<td headers="sex" class="gt_row gt_center">female</td>
<td headers="mean_bw" class="gt_row gt_right">3527.206</td>
</tr>
<tr>
<td headers="species" class="gt_row gt_center">Chinstrap</td>
<td headers="sex" class="gt_row gt_center">male</td>
<td headers="mean_bw" class="gt_row gt_right">3938.971</td>
</tr>
<tr>
<td headers="species" class="gt_row gt_center">Gentoo</td>
<td headers="sex" class="gt_row gt_center">female</td>
<td headers="mean_bw" class="gt_row gt_right">4679.741</td>
</tr>
<tr>
<td headers="species" class="gt_row gt_center">Gentoo</td>
<td headers="sex" class="gt_row gt_center">male</td>
<td headers="mean_bw" class="gt_row gt_right">5484.836</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section><section id="handling-grouping---option-1" class="slide level2"><h2>handling grouping - option 1</h2>
<p>What we’ve already seen, explicitly selecting what to do with groups with <code>.groups</code>:</p>
<div class="columns">
<div class="column" style="width:49%;">
<p><strong>drop groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb107" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb107-2"><a href="#cb107-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb107-3"><a href="#cb107-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb107-4"><a href="#cb107-4"></a>  <span class="fu">summarize</span>(</span>
<span id="cb107-5"><a href="#cb107-5"></a>    <span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), </span>
<span id="cb107-6"><a href="#cb107-6"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb107-7"><a href="#cb107-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Adelie    male     4043.
3 Chinstrap female   3527.
4 Chinstrap male     3939.
5 Gentoo    female   4680.
6 Gentoo    male     5485.</code></pre>
</div>
</div>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:49%;">
<p><strong>keep groups:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb109" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb109-2"><a href="#cb109-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb109-3"><a href="#cb109-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span></span>
<span id="cb109-4"><a href="#cb109-4"></a>  <span class="fu">summarize</span>(</span>
<span id="cb109-5"><a href="#cb109-5"></a>    <span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), </span>
<span id="cb109-6"><a href="#cb109-6"></a>    <span class="at">.groups =</span> <span class="st">"keep"</span></span>
<span id="cb109-7"><a href="#cb109-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
# Groups:   species, sex [6]
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    female   3369.
2 Adelie    male     4043.
3 Chinstrap female   3527.
4 Chinstrap male     3939.
5 Gentoo    female   4680.
6 Gentoo    male     5485.</code></pre>
</div>
</div>
</div>
</div>
</section><section id="handling-grouping---option-2" class="slide level2"><h2>handling grouping - option 2</h2>
<p>Using <strong>per-operation grouping</strong> with <code>.by</code>:</p>
<div class="columns">
<div class="column" style="width:49%;">
<p><strong>group by 1 var:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb111" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb111-2"><a href="#cb111-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb111-3"><a href="#cb111-3"></a>  <span class="fu">summarize</span>(</span>
<span id="cb111-4"><a href="#cb111-4"></a>    <span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), </span>
<span id="cb111-5"><a href="#cb111-5"></a>    <span class="at">.by =</span> species</span>
<span id="cb111-6"><a href="#cb111-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   mean_bw
  &lt;fct&gt;       &lt;dbl&gt;
1 Adelie      3706.
2 Gentoo      5092.
3 Chinstrap   3733.</code></pre>
</div>
</div>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:49%;">
<p><strong>group by 2+ vars:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb113" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2"></a>  <span class="fu">drop_na</span>(sex, body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb113-3"><a href="#cb113-3"></a>  <span class="fu">summarize</span>(</span>
<span id="cb113-4"><a href="#cb113-4"></a>    <span class="at">mean_bw =</span> <span class="fu">mean</span>(body_mass_g), </span>
<span id="cb113-5"><a href="#cb113-5"></a>    <span class="at">.by =</span> <span class="fu">c</span>(species, sex)</span>
<span id="cb113-6"><a href="#cb113-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  species   sex    mean_bw
  &lt;fct&gt;     &lt;fct&gt;    &lt;dbl&gt;
1 Adelie    male     4043.
2 Adelie    female   3369.
3 Gentoo    female   4680.
4 Gentoo    male     5485.
5 Chinstrap female   3527.
6 Chinstrap male     3939.</code></pre>
</div>
</div>
</div>
</div>
</section><section id="group_by-vs.-.by" class="slide level2"><h2>
<code>group_by()</code> vs.&nbsp;<code>.by</code>
</h2>
<div>
<ul>
<li class="fragment"><p><code>group_by()</code> is not superseded and not going away, <code>.by</code> is an alternative if you want per-operation grouping.</p></li>
<li class="fragment"><p>Some verbs take <code>by</code> instead of <code>.by</code> as an argument 😞, but they come with informative errors 🙂</p></li>
<li class="fragment"><p><code>.by</code> always returns an ungrouped data frame</p></li>
<li class="fragment"><p>You can’t create variables on the fly in <code>.by</code>, you must create them earlier in your pipeline, e.g., unlike <code>df |&gt; group_by(month = floor_date(date, "month"))</code></p></li>
<li class="fragment"><p><code>.by</code> doesn’t sort grouping keys, <code>group_by()</code> always sorts keys in ascending order, which affects the results of verbs like <code>summarise()</code>, e.g., see the species orders in the two previous slides</p></li>
</ul>
</div>
</section><section id="teaching-tip-3" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Choose one grouping method and stick to it</strong></p>
</div>
<div class="callout-content">
<p>It doesn’t matter whether you use <code>group_by()</code> (followed by <code>.groups</code>, where needed) or <code>.by</code>.</p>
<ul>
<li>For new learners, pick one and stick to it.</li>
<li>For more experienced learners, particularly those learning to design their own functions and packages, it can be interesting to go through the differences and evolution.</li>
</ul>
</div>
</div>
</div>
</section><section id="quality-of-life-improvements" class="slide level2"><h2>quality of life improvements</h2>
<p>for <code>case_when()</code> and <code>if_else()</code>:</p>
<ul>
<li>all else denoted by <code>.default</code> for <code>case_when()</code>
</li>
<li>less strict about value type for both</li>
</ul>
<p><br></p>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-6">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb115" data-code-line-numbers="|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb115-2"><a href="#cb115-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb115-3"><a href="#cb115-3"></a>    <span class="at">x =</span> <span class="fu">case_when</span>(</span>
<span id="cb115-4"><a href="#cb115-4"></a>      <span class="sc">&lt;</span>condition <span class="dv">1</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 1"</span>,</span>
<span id="cb115-5"><a href="#cb115-5"></a>      <span class="sc">&lt;</span>condition <span class="dv">2</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 2"</span>,</span>
<span id="cb115-6"><a href="#cb115-6"></a>      <span class="sc">&lt;</span>condition <span class="dv">3</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 3"</span>,</span>
<span id="cb115-7"><a href="#cb115-7"></a>      <span class="cn">TRUE</span>          <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb115-8"><a href="#cb115-8"></a>    )</span>
<span id="cb115-9"><a href="#cb115-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now---optionally-4">now - optionally</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb116" data-code-line-numbers="|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb116-2"><a href="#cb116-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb116-3"><a href="#cb116-3"></a>    <span class="at">x =</span> <span class="fu">case_when</span>(</span>
<span id="cb116-4"><a href="#cb116-4"></a>      <span class="sc">&lt;</span>condition <span class="dv">1</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 1"</span>,</span>
<span id="cb116-5"><a href="#cb116-5"></a>      <span class="sc">&lt;</span>condition <span class="dv">2</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 2"</span>,</span>
<span id="cb116-6"><a href="#cb116-6"></a>      <span class="sc">&lt;</span>condition <span class="dv">3</span><span class="sc">&gt;</span> <span class="er">~</span> <span class="st">"value 3"</span>,</span>
<span id="cb116-7"><a href="#cb116-7"></a>      <span class="at">.default =</span> <span class="cn">NA</span></span>
<span id="cb116-8"><a href="#cb116-8"></a>    )</span>
<span id="cb116-9"><a href="#cb116-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="setup-penguin_quantiles" class="slide level2"><h2>setup: <code>penguin_quantiles</code>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb117-2"><a href="#cb117-2"></a>  <span class="fu">reframe</span>(<span class="at">bm_cat =</span> <span class="fu">quantile</span>(body_mass_g, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  bm_cat
   &lt;dbl&gt;
1   3550
2   4750</code></pre>
</div>
</div>
</section><section id="case_when" class="slide level2 smaller"><h2><code>case_when()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb119-2"><a href="#cb119-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb119-3"><a href="#cb119-3"></a>    <span class="at">bm_cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb119-4"><a href="#cb119-4"></a>      <span class="fu">is.na</span>(body_mass_g) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb119-5"><a href="#cb119-5"></a>      body_mass_g <span class="sc">&lt;</span> <span class="dv">3550</span> <span class="sc">~</span> <span class="st">"Small"</span>,</span>
<span id="cb119-6"><a href="#cb119-6"></a>      <span class="fu">between</span>(body_mass_g, <span class="dv">3550</span>, <span class="dv">4750</span>) <span class="sc">~</span> <span class="st">"Medium"</span>,</span>
<span id="cb119-7"><a href="#cb119-7"></a>      <span class="at">.default =</span> <span class="st">"Large"</span></span>
<span id="cb119-8"><a href="#cb119-8"></a>    )</span>
<span id="cb119-9"><a href="#cb119-9"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb119-10"><a href="#cb119-10"></a>  <span class="fu">relocate</span>(body_mass_g, bm_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 9
  body_mass_g bm_cat species island  bill_length_mm bill_depth_mm
        &lt;int&gt; &lt;chr&gt;  &lt;fct&gt;   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;
1        3750 Medium Adelie  Torger…           39.1          18.7
2        3800 Medium Adelie  Torger…           39.5          17.4
3        3250 Small  Adelie  Torger…           40.3          18  
4          NA &lt;NA&gt;   Adelie  Torger…           NA            NA  
5        3450 Small  Adelie  Torger…           36.7          19.3
6        3650 Medium Adelie  Torger…           39.3          20.6
# ℹ 338 more rows
# ℹ 3 more variables: flipper_length_mm &lt;int&gt;, sex &lt;fct&gt;,
#   year &lt;int&gt;</code></pre>
</div>
</div>
</section><section id="if_else" class="slide level2"><h2><code>if_else()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb121-2"><a href="#cb121-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb121-3"><a href="#cb121-3"></a>    <span class="at">bm_unit =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(body_mass_g), <span class="fu">paste</span>(body_mass_g, <span class="st">"g"</span>), <span class="cn">NA</span>)</span>
<span id="cb121-4"><a href="#cb121-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb121-5"><a href="#cb121-5"></a>  <span class="fu">relocate</span>(body_mass_g, bm_unit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 9
  body_mass_g bm_unit species island bill_length_mm bill_depth_mm
        &lt;int&gt; &lt;chr&gt;   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;
1        3750 3750 g  Adelie  Torge…           39.1          18.7
2        3800 3800 g  Adelie  Torge…           39.5          17.4
3        3250 3250 g  Adelie  Torge…           40.3          18  
4          NA &lt;NA&gt;    Adelie  Torge…           NA            NA  
5        3450 3450 g  Adelie  Torge…           36.7          19.3
6        3650 3650 g  Adelie  Torge…           39.3          20.6
# ℹ 338 more rows
# ℹ 3 more variables: flipper_length_mm &lt;int&gt;, sex &lt;fct&gt;,
#   year &lt;int&gt;</code></pre>
</div>
</div>
</section><section id="teaching-tip-4" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>It’s a blessing to not have to introduce <code>NA_character_</code> and friends</strong></p>
</div>
<div class="callout-content">
<p>Especially not having to introduce it as early as <code>if_else()</code> and <code>case_when()</code>. Cherish it!</p>
<p>Different types of <code>NA</code>s are a good topic for a course on R as a programming language, statistical computing, etc. but not necessary for an intro course.</p>
</div>
</div>
</div>
</section><section id="and-more-1" class="slide level2"><h2>and more…</h2>
<ul>
<li>Further simplify your <code>case_when()</code> statements with <code>case_match()</code>
</li>
<li>Selecting columns inside a function like <code>mutate()</code> or <code>summarize()</code> with <code>pick()</code>
</li>
<li>Reproducibility and performance updates to <code>arrange()</code>
</li>
<li>Read more at <a href="https://www.tidyverse.org/tags/dplyr-1-1-0/" class="uri">https://www.tidyverse.org/tags/dplyr-1-1-0/</a>
</li>
</ul></section></section><section><section id="tidyr-1.3.0" class="title-slide slide level1 center"><h1>tidyr 1.3.0</h1>

</section><section id="new-separate_-functions" class="slide level2"><h2>new <code>separate_*()</code> functions</h2>
<p>that supersede <a href="https://tidyr.tidyverse.org/reference/extract.html"><code>extract()</code></a>, <a href="https://tidyr.tidyverse.org/reference/separate.html"><code>separate()</code></a>, and <a href="https://tidyr.tidyverse.org/reference/separate_rows.html"><code>separate_rows()</code></a> because they have more consistent names and arguments, have better performance, and provide a new approach for handling problems:<br></p>
<table>
<thead><tr class="header">
<th></th>
<th><strong>MAKE COLUMNS</strong></th>
<th><strong>MAKE ROWS</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Separate with delimiter</td>
<td><a href="https://tidyr.tidyverse.org/reference/separate_wider_delim.html"><code>separate_wider_delim()</code></a></td>
<td><a href="https://tidyr.tidyverse.org/reference/separate_longer_delim.html"><code>separate_longer_delim()</code></a></td>
</tr>
<tr class="even">
<td>Separate by position</td>
<td><a href="https://tidyr.tidyverse.org/reference/separate_wider_delim.html"><code>separate_wider_position()</code></a></td>
<td><a href="https://tidyr.tidyverse.org/reference/separate_longer_delim.html"><code>separate_longer_position()</code></a></td>
</tr>
<tr class="odd">
<td>Separate with regular expression</td>
<td><a href="https://tidyr.tidyverse.org/reference/separate_wider_delim.html"><code>separate_wider_regex()</code></a></td>
<td></td>
</tr>
</tbody>
</table></section><section id="setup-three_penguin_descriptions" class="slide level2"><h2>setup: <code>three_penguin_descriptions</code>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>three_penguin_descriptions <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb123-2"><a href="#cb123-2"></a>  <span class="sc">~</span>id, <span class="sc">~</span>description,</span>
<span id="cb123-3"><a href="#cb123-3"></a>  <span class="dv">1</span>,   <span class="st">"Species: Adelie, Island - Torgersen"</span>,</span>
<span id="cb123-4"><a href="#cb123-4"></a>  <span class="dv">1</span>,   <span class="st">"Species: Gentoo, Island - Biscoe"</span>,</span>
<span id="cb123-5"><a href="#cb123-5"></a>  <span class="dv">1</span>,   <span class="st">"Species: Chinstrap, Island - Dream"</span>,</span>
<span id="cb123-6"><a href="#cb123-6"></a>)</span>
<span id="cb123-7"><a href="#cb123-7"></a></span>
<span id="cb123-8"><a href="#cb123-8"></a>three_penguin_descriptions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
     id description                        
  &lt;dbl&gt; &lt;chr&gt;                              
1     1 Species: Adelie, Island - Torgersen
2     1 Species: Gentoo, Island - Biscoe   
3     1 Species: Chinstrap, Island - Dream </code></pre>
</div>
</div>
</section><section id="separate_wider_delim" class="slide level2"><h2><code>separate_wider_delim()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>three_penguin_descriptions <span class="sc">|&gt;</span></span>
<span id="cb125-2"><a href="#cb125-2"></a>  <span class="fu">separate_wider_delim</span>(</span>
<span id="cb125-3"><a href="#cb125-3"></a>    <span class="at">cols =</span> description,</span>
<span id="cb125-4"><a href="#cb125-4"></a>    <span class="at">delim =</span> <span class="st">", "</span>,</span>
<span id="cb125-5"><a href="#cb125-5"></a>    <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"species"</span>, <span class="st">"island"</span>)</span>
<span id="cb125-6"><a href="#cb125-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id species            island            
  &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;             
1     1 Species: Adelie    Island - Torgersen
2     1 Species: Gentoo    Island - Biscoe   
3     1 Species: Chinstrap Island - Dream    </code></pre>
</div>
</div>
</section><section id="separate_wider_regex" class="slide level2"><h2><code>separate_wider_regex()</code></h2>
<p><em>If you’re into that sort of thing…</em></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>three_penguin_descriptions <span class="sc">|&gt;</span></span>
<span id="cb127-2"><a href="#cb127-2"></a>  <span class="fu">separate_wider_regex</span>(</span>
<span id="cb127-3"><a href="#cb127-3"></a>    <span class="at">cols =</span> description,</span>
<span id="cb127-4"><a href="#cb127-4"></a>    <span class="at">patterns =</span> <span class="fu">c</span>(</span>
<span id="cb127-5"><a href="#cb127-5"></a>      <span class="st">"Species: "</span>, <span class="at">species =</span> <span class="st">"[^,]+"</span>, </span>
<span id="cb127-6"><a href="#cb127-6"></a>      <span class="st">", "</span>, </span>
<span id="cb127-7"><a href="#cb127-7"></a>      <span class="st">"Island - "</span>, <span class="at">island =</span> <span class="st">".*"</span></span>
<span id="cb127-8"><a href="#cb127-8"></a>    )</span>
<span id="cb127-9"><a href="#cb127-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id species   island   
  &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    
1     1 Adelie    Torgersen
2     1 Gentoo    Biscoe   
3     1 Chinstrap Dream    </code></pre>
</div>
</div>
</section><section id="enhanced-reporting-when-things-fail" class="slide level2 smaller"><h2>enhanced reporting when things fail</h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-7">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb129" data-code-line-numbers="|8-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a><span class="fu">separate</span>(</span>
<span id="cb129-2"><a href="#cb129-2"></a>  data,</span>
<span id="cb129-3"><a href="#cb129-3"></a>  col,</span>
<span id="cb129-4"><a href="#cb129-4"></a>  into,</span>
<span id="cb129-5"><a href="#cb129-5"></a>  <span class="at">sep =</span> <span class="st">"[^[:alnum:]]+"</span>,</span>
<span id="cb129-6"><a href="#cb129-6"></a>  <span class="at">remove =</span> <span class="cn">TRUE</span>,</span>
<span id="cb129-7"><a href="#cb129-7"></a>  <span class="at">convert =</span> <span class="cn">FALSE</span>,</span>
<span id="cb129-8"><a href="#cb129-8"></a>  <span class="at">extra =</span> <span class="st">"warn"</span>,</span>
<span id="cb129-9"><a href="#cb129-9"></a>  <span class="at">fill =</span> <span class="st">"warn"</span>,</span>
<span id="cb129-10"><a href="#cb129-10"></a>  ...</span>
<span id="cb129-11"><a href="#cb129-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now-2">now</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb130" data-code-line-numbers="|9-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>separate_wider_<span class="sc">*</span>(</span>
<span id="cb130-2"><a href="#cb130-2"></a>  data,</span>
<span id="cb130-3"><a href="#cb130-3"></a>  cols,</span>
<span id="cb130-4"><a href="#cb130-4"></a>  <span class="sc">&lt;</span>depends on method to separate<span class="sc">&gt;</span>,</span>
<span id="cb130-5"><a href="#cb130-5"></a>  ...,</span>
<span id="cb130-6"><a href="#cb130-6"></a>  <span class="at">names =</span> <span class="cn">NULL</span>,</span>
<span id="cb130-7"><a href="#cb130-7"></a>  <span class="at">names_sep =</span> <span class="cn">NULL</span>,</span>
<span id="cb130-8"><a href="#cb130-8"></a>  <span class="at">names_repair =</span> <span class="st">"check_unique"</span>,</span>
<span id="cb130-9"><a href="#cb130-9"></a>  <span class="at">too_few =</span> <span class="fu">c</span>(<span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"align_start"</span>, <span class="st">"align_end"</span>),</span>
<span id="cb130-10"><a href="#cb130-10"></a>  <span class="at">too_many =</span> <span class="fu">c</span>(<span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"drop"</span>, <span class="st">"merge"</span>),</span>
<span id="cb130-11"><a href="#cb130-11"></a>  <span class="at">cols_remove =</span> <span class="cn">TRUE</span>  </span>
<span id="cb130-12"><a href="#cb130-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="teaching-tip-5" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Excel text-to-column users are used to different approaches to “separate”</strong></p>
</div>
<div class="callout-content">
<p>If teaching folks coming from doing data manipulation in spreadsheets, leverage that to motivate different types of <code>separate_*()</code> functions, and show the benefits of programming over point-and-click software for more advanced operations like separating longer and separating with regular expressions.</p>
</div>
</div>
</div>
</section></section><section><section id="ggplot2-3.4.0" class="title-slide slide level1 center"><h1>ggplot2 3.4.0</h1>

</section><section id="linewidth" class="slide level2"><h2>linewidth</h2>
<div class="columns">
<div class="column fragment" data-fragment-index="1" style="width:49%;">
<!-- -->
<h3 id="previously-8">previously</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb131" data-code-line-numbers="|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb131-2"><a href="#cb131-2"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb131-3"><a href="#cb131-3"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb131-4"><a href="#cb131-4"></a>    <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)</span>
<span id="cb131-5"><a href="#cb131-5"></a>  ) <span class="sc">+</span></span>
<span id="cb131-6"><a href="#cb131-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">size =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2
3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-74-1.png" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:1%;">

</div>
<div class="column fragment" data-fragment-index="2" style="width:49%;">
<!-- -->
<h3 id="now-3">now</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb133" data-code-line-numbers="|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb133-3"><a href="#cb133-3"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb133-4"><a href="#cb133-4"></a>    <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)</span>
<span id="cb133-5"><a href="#cb133-5"></a>  ) <span class="sc">+</span></span>
<span id="cb133-6"><a href="#cb133-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">linewidth =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="tidyverse-2023_files/figure-revealjs/unnamed-chunk-75-1.png" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="teaching-tip-6" class="slide level2"><h2>teaching tip</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Check the output of your old teaching materials thoroughly</strong></p>
</div>
<div class="callout-content">
<p>To not make a fool of yourself when teaching 🤣</p>
</div>
</div>
</div>
</section></section><section><section id="and-more-2" class="title-slide slide level1 center"><h1>and more…</h1>

</section><section id="other-tidyverse-updates" class="slide level2"><h2>other tidyverse updates</h2>
<div>
<ul>
<li class="fragment">Better <strong>stringr</strong> and <strong>tidyr</strong> alignment</li>
<li class="fragment">Ability to distinguish between <code>NA</code> in levels vs.&nbsp;<code>NA</code> in values in <strong>forcats</strong>
</li>
<li class="fragment">New (more straightforward to learn/teach!) API for <strong>rvest</strong>
</li>
<li class="fragment">Shorter, more readable, and (in some cases) faster SQL queries in <strong>dbplyr</strong>
</li>
<li class="fragment">and more …</li>
</ul>
</div>
</section><section id="keeping-up-with-the-tidyverse" class="slide level2"><h2>keeping up with the tidyverse</h2>
<p>If you are interested in closely keeping up with updates in the tidyverse, the <a href="https://www.tidyverse.org/blog/">Tidyverse blog</a> is the best place to read!</p>
<iframe src="https://www.tidyverse.org/blog/" width="100%" height="550" title="Tidyverse blog"></iframe>
</section><section id="other-tidyverse-adjacent-developments" class="slide level2"><h2>other tidyverse adjacent developments</h2>
<p>The Tidyverse blog is also a great place to keep up with</p>
<ul>
<li><p><strong>tidymodels</strong> updates</p></li>
<li><p>and the magic that is <strong>webR</strong>! ✨</p></li>
</ul></section><section id="learn-more" class="slide level2"><h2>learn more</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>For a comprehensive overview of data science with R and the tidyverse, read the recently updated, and very soon to be available in paperback, <a href="https://r4ds.hadley.nz/">R for Data Science, 2nd Edition</a>.</p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure><p><a href="https://r4ds.hadley.nz/"><img data-src="images/r4ds-cover.jpg" alt="Cover of R for Data Science, 2nd Edition"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="thank-you" class="title-slide slide level1 center"><h1>thank you!</h1>
<div class="preslink">
<p>🔗 <a href="https://mine.quarto.pub/tidyverse-2023" class="uri">https://mine.quarto.pub/tidyverse-2023</a> <br><br> 💻 <a href="https://github.com/mine-cetinkaya-rundel/tidyverse-2023" class="uri">https://github.com/mine-cetinkaya-rundel/tidyverse-2023</a></p>
</div>
<div class="footer">

</div>
</section><section><section id="references" class="title-slide slide level1 center"><h1>References</h1>

</section><section id="packages" class="slide level2"><h2>Packages</h2>
<ul>
<li><p><strong>tidyverse:</strong> Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C, Woo K, Yutani H (2019). “Welcome to the tidyverse.” <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. doi:10.21105/joss.01686 <a href="https://doi.org/10.21105/joss.01686" class="uri">https://doi.org/10.21105/joss.01686</a>.</p></li>
<li><p><strong>palmerpenguins:</strong> Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0. <a href="https://allisonhorst.github.io/palmerpenguins/.%20doi:%2010.5281/zenodo.3960218">https://allisonhorst.github.io/palmerpenguins/. doi: 10.5281/zenodo.3960218</a>.</p></li>
<li><p><strong>conflicted:</strong> Wickham H (2023). <em>conflicted: An Alternative Conflict Resolution Strategy</em>. R package version 1.2.0, <a href="https://CRAN.R-project.org/package=conflicted" class="uri">https://CRAN.R-project.org/package=conflicted</a>.</p></li>
<li><p><strong>gt:</strong> Iannone R, Cheng J, Schloerke B, Hughes E, Lauer A, Seo J (2023). <em>gt: Easily Create Presentation-Ready Display Tables</em>. R package version 0.9.0, <a href="https://CRAN.R-project.org/package=gt" class="uri">https://CRAN.R-project.org/package=gt</a>.</p></li>
</ul>

<img src="images/tidyverse.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://mine.quarto.pub/tidyverse-2023">🔗 mine.quarto.pub/tidyverse-2023</a></p>
</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="tidyverse-2023_files/libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="tidyverse-2023_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/multiplex/socket.io.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/multiplex/multiplex.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/quarto-support/support.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/notes/notes.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/search/search.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/zoom/zoom.js"></script><script src="tidyverse-2023_files/libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'multiplex': {"secret":"16854213972759963385","id":"3cb172f966428ecd","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><style>
      .hide {
        display: none !important;
      }
    </style>
<script>
      function remove() {
        let footer = document.querySelector('div.footer-default');
        footer.classList.add('hide');
      
        Reveal.on('slidechanged', event => {  
          if(Reveal.isFirstSlide()) {
            footer.classList.add('hide');
          } else {
            footer.classList.remove('hide');
          }
        });
      }
      
      window.onload = remove();
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>